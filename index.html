<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>赛博前端</title><meta name="author" content="前端烨"><meta name="copyright" content="前端烨"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="我只是一个朴实无华的码农">
<meta property="og:type" content="website">
<meta property="og:title" content="赛博前端">
<meta property="og:url" content="https://baiyi-ing.github.io/qianduan/index.html">
<meta property="og:site_name" content="赛博前端">
<meta property="og:description" content="我只是一个朴实无华的码农">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="前端烨">
<meta property="article:tag" content="前端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/qianduan/img/favicon.png"><link rel="canonical" href="https://baiyi-ing.github.io/qianduan/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/qianduan/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/qianduan/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '赛博前端',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-06-08 11:14:21'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/qianduan/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/qianduan/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/qianduan/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog-info"><a href="/qianduan/" title="赛博前端"><span class="site-name">赛博前端</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">赛博前端</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/qianduan/2024/06/08/%E6%9B%B4%E6%96%B0%E5%8E%9F%E6%9D%A5%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E5%88%B0%E5%88%86%E6%94%AF/" title="更新原来的数据，提交代码到分支">更新原来的数据，提交代码到分支</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-08T03:13:53.000Z" title="发表于 2024-06-08 11:13:53">2024-06-08</time></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/qianduan/2024/06/08/%E7%9B%B4%E6%8E%A5%E8%B5%8B%E5%80%BC%E5%AF%BC%E8%87%B4%E5%93%8D%E5%BA%94%E5%BC%8F%E6%96%AD%E5%BC%80%EF%BC%8C%E5%89%8D%E7%AB%AF%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/" title="直接赋值导致响应式断开，前端深浅拷贝">直接赋值导致响应式断开，前端深浅拷贝</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-08T01:56:05.000Z" title="发表于 2024-06-08 09:56:05">2024-06-08</time></span></div><div class="content">vue3中的ref对象的深浅拷贝问题，实际应用出现的相关的问题。
概念总述浅拷贝
仅仅复制了数据，没有改变他原来的引用。
表现：当你对新对象进行修改的时候，会影响到你拷贝的本来对象。
深拷贝
复制了原来的数据，改变了数据原来的引用，放在了分配了数据的新的地址。
表现：对新的数据的属性进行减少和怎加的时候，不会影响到原来的数据。
实战状况在vue3中使用一个ref({})对象，{}中有若干属性，笔者需要过滤数据，需要过滤掉一些不用的属性，但是还需要保留原来的数据。
决定从原来的数组（rowdata）中复制一个新对象（newdata），在newdata过滤后传给后端，这样我rowdata中的值就不受相关的影响了，还能将过滤后的数据通过新对象newdata传递给后端。
问题：这个时候就出现了拷贝问题。传递了newdata后，发现rawdata的数据居然也变成了过滤后的数据。这就体现了一个深浅拷贝的问题了。
浅拷贝
12345//版本一const newdata.value=rowdata.value//版本二const newdata = ref(rowdata.value)

深拷贝
1c ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/qianduan/2024/06/02/%E6%9B%B4%E6%94%B9%E5%8E%9F%E5%88%86%E9%A1%B5%E7%BB%84%E4%BB%B6size%E6%95%88%E6%9E%9C/" title="更改原分页组件size效果">更改原分页组件size效果</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-02T08:29:42.000Z" title="发表于 2024-06-02 16:29:42">2024-06-02</time></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/qianduan/2024/06/02/mac%E5%89%8D%E7%AB%AFcom+f%E4%B8%8Ecom+shift+f%E6%9F%A5%E6%89%BE%E6%96%87%E7%AB%A0%E5%86%85%E5%AE%B9/" title="mac前端com+f与com+shift+f查找文章内容">mac前端com+f与com+shift+f查找文章内容</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-02T08:28:28.000Z" title="发表于 2024-06-02 16:28:28">2024-06-02</time></span></div><div class="content">在vscode中我们常常都需要查找相关的制定，在mac本中操作如下
command+f查找本页相关内容
command+shift+f全局查找相关的内容
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/qianduan/2024/06/02/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E5%A2%99/" title="自定义图片墙">自定义图片墙</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-02T08:27:20.000Z" title="发表于 2024-06-02 16:27:20">2024-06-02</time></span></div><div class="content">官网样板代码vue3使用elment-plus官方文档中的upload进行自定义照片墙进行基础的板子打样。
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&lt;template&gt;  &lt;el-upload action=&quot;#&quot; list-type=&quot;picture-card&quot; :auto-upload=&quot;false&quot;&gt;    &lt;el-icon&gt;&lt;Plus /&gt;&lt;/el-icon&gt;    &lt;template #file=&quot;&#123; file &#125;&quot;&gt;      &lt;div&gt;        &lt;img class=&quot;el-upload-list__item-thumbnail&quot; :src=&quot;file ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/qianduan/2024/06/02/%E6%97%A0%E6%B3%95%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%E5%BE%AE%E4%BF%A1%E4%BC%A0%E6%9D%A5%E7%9A%84%E5%9B%BE%E7%89%87/" title="无法直接访问微信传来的图片">无法直接访问微信传来的图片</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-02T01:51:44.000Z" title="发表于 2024-06-02 09:51:44">2024-06-02</time></span></div><div class="content">使用微信永久素材库中的图片时候发现图片已经被正常的接收了，但是发现在使用的时候发现不能正常使用相关的图片。
后来发现微信官方对传来的图片数据的url进行了加密,是不能让我们直接使用图片链接，时得这个图片成为我们网页的一部分的。
解决方法
1&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;

原理
这是一个HTML标签，用于设置文档的引用策略，影响浏览器在加载图片或其他资源时是否发送引用信息。
当浏览器加载一个图片或其他资源时，通常会在HTTP请求中包含一个Referer头部，这个头部包含了请求资源的页面的URL。这可以让服务器知道请求是从哪个页面来的。但是，如果您不希望发送这个信息，可以在&lt;meta&gt;标签中设置content=&quot;no-referrer&quot;，这样浏览器在加载任何资源时都不会发送引用信息。
简单来说就是，添加了这个信息，就不向相关服务器告知我引用了他，以达到越过图片加密的相关步骤。
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/qianduan/2024/06/01/Base64%E7%A0%81%E8%BD%AC%E6%8D%A2/" title="Base64码转换">Base64码转换</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-01T12:30:28.000Z" title="发表于 2024-06-01 20:30:28">2024-06-01</time></span></div><div class="content">后端图片前端显示乱码现象后端传来一个图片，前端能够接收，但是console.log()后发现图片变成了乱码，但是检查后台又发现能够正常的收到了这张图片。

处理方法笔者有尝试将图片乱码转成二进制然后再转换成普通的url，但是以失败告终了。
后来使用将乱码转换成base64形式的url，解决了这个问题。
具体代码vue3组件中的js：
12345678getApi(typeObj.value.media_id).then((response) =&gt; &#123;     //将图片乱码转换成base64     pictureUrl.value = `data:image/png;base64,$&#123;btoa(       new Uint8Array(response).reduce(         (data, byte) =&gt; data + String.fromCharCode(byte),&quot;&quot;)     )&#125;`;     typeObj.value.httpUrl = pictureUrl.value;   &#125;);
 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/qianduan/2024/05/19/css%E5%AD%97%E4%BD%93/" title="css字体">css字体</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-05-19T08:21:56.000Z" title="发表于 2024-05-19 16:21:56">2024-05-19</time></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/qianduan/2024/05/18/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-05-18T10:05:43.892Z" title="发表于 2024-05-18 18:05:43">2024-05-18</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/qianduan/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">前端烨</div><div class="author-info__description">我只是一个朴实无华的码农</div></div><div class="card-info-data site-data is-center"><a href="/qianduan/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/qianduan/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/qianduan/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/qianduan/2024/06/08/%E6%9B%B4%E6%96%B0%E5%8E%9F%E6%9D%A5%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E5%88%B0%E5%88%86%E6%94%AF/" title="更新原来的数据，提交代码到分支">更新原来的数据，提交代码到分支</a><time datetime="2024-06-08T03:13:53.000Z" title="发表于 2024-06-08 11:13:53">2024-06-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/qianduan/2024/06/08/%E7%9B%B4%E6%8E%A5%E8%B5%8B%E5%80%BC%E5%AF%BC%E8%87%B4%E5%93%8D%E5%BA%94%E5%BC%8F%E6%96%AD%E5%BC%80%EF%BC%8C%E5%89%8D%E7%AB%AF%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/" title="直接赋值导致响应式断开，前端深浅拷贝">直接赋值导致响应式断开，前端深浅拷贝</a><time datetime="2024-06-08T01:56:05.000Z" title="发表于 2024-06-08 09:56:05">2024-06-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/qianduan/2024/06/02/%E6%9B%B4%E6%94%B9%E5%8E%9F%E5%88%86%E9%A1%B5%E7%BB%84%E4%BB%B6size%E6%95%88%E6%9E%9C/" title="更改原分页组件size效果">更改原分页组件size效果</a><time datetime="2024-06-02T08:29:42.000Z" title="发表于 2024-06-02 16:29:42">2024-06-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/qianduan/2024/06/02/mac%E5%89%8D%E7%AB%AFcom+f%E4%B8%8Ecom+shift+f%E6%9F%A5%E6%89%BE%E6%96%87%E7%AB%A0%E5%86%85%E5%AE%B9/" title="mac前端com+f与com+shift+f查找文章内容">mac前端com+f与com+shift+f查找文章内容</a><time datetime="2024-06-02T08:28:28.000Z" title="发表于 2024-06-02 16:28:28">2024-06-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/qianduan/2024/06/02/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E5%A2%99/" title="自定义图片墙">自定义图片墙</a><time datetime="2024-06-02T08:27:20.000Z" title="发表于 2024-06-02 16:27:20">2024-06-02</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/qianduan/tags/vue3/" style="font-size: 1.5em; color: #99a9bf">vue3</a> <a href="/qianduan/tags/css/" style="font-size: 1.1em; color: #999">css</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/qianduan/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/qianduan/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">9</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-06-08T03:14:21.734Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 前端烨</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/qianduan/js/utils.js?v=4.13.0"></script><script src="/qianduan/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>